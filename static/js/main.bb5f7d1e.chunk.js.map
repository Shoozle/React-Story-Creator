{"version":3,"sources":["components/Storybook/storybook.module.css","components/Canvas/canvas.module.css","components/Canvas/Toolbox/toolbox.module.css","components/UI/Modal/modal.module.css","components/UI/Button/button.module.css","components/Flowchart/flowchart.module.css","components/UI/Cursor/cursor.module.css","components/UI/Backdrop/backdrop.module.css","components/UI/Navbar/navbar.module.css","components/Canvas/Title/title.module.css","components/UI/Button/Button.js","components/Canvas/Toolbox/Toolbox.js","components/UI/Cursor/Cursor.js","components/Canvas/Canvas.js","components/UI/Backdrop/Backdrop.js","components/UI/Modal/Modal.js","components/Storybook/Storybook.js","components/Flowchart/Flowchart.js","components/UI/Navbar/Navbar.js","store/story.js","components/Canvas/Title/Title.js","App.js","index.js"],"names":["module","exports","FlowchartButton","props","className","classes","onClick","children","Button","text","Toolbox","brushControls","onUndo","onRedo","onFill","onPrevPage","onNewPage","onNextPage","brushSize","onBrushSizeChange","color","setColor","onPreview","pageNum","pages","useContext","StoryContext","storyState","htmlFor","type","id","value","min","max","onChange","e","colorful","placement","side","bottom","length","Cursor","style","cursorStyle","Canvas","canvasRef","useRef","textRef","useState","painting","setPainting","storyContext","setBrushSize","setCursorStyle","updateCursor","top","pageY","left","pageX","height","width","border","useEffect","canvas","current","storyText","ctx","getContext","edits","fillStyle","fillRect","dispatchStory","payload","edit","toDataURL","image","Image","src","editIndex","onload","drawImage","undefined","endPosition","beginPath","display","sideToolbox","target","colorPicker","topToolbox","onPageChange","prevPageNum","drawingArea","drawingButtons","storyArea","ref","onMouseEnter","onMouseDown","onMouseMove","location","x","y","offsetLeft","window","scrollX","offsetTop","scrollY","lineWidth","lineCap","strokeStyle","lineTo","stroke","moveTo","draw","clientX","clientY","onMouseUp","onMouseLeave","pageNumber","pageButtons","col","row","maxLength","placeholder","Backdrop","backdrop","Modal","show","modalOpen","modalClosed","join","Storybook","firstPageDisplay","secondPageDisplay","firstCanvasRef","secondCanvasRef","index","setIndex","firstPage","setFirstPage","secondPage","setSecondPage","hideSecondPage","setHideSecondPage","pagesToShow","innerWidth","firstPageCtx","firstimageSrc","imageSrc","firstImage","secondPageCtx","secondimageSrc","secondImage","err","page","bookSection","storyTitle","title","pageArea","buttonArea","onClose","Flowchart","storyDisplay","setStoryDisplay","pageDivs","map","process","closeStoryHandler","Flowchartarea","Navbar","storyReducer","state","action","oldPages","splice","push","newTitle","alert","Title","setTitle","createContext","App","setPageNum","changePageHandler","useReducer","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bb5f7d1e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"bookSection\":\"storybook_bookSection__2F6B_\",\"storyTitle\":\"storybook_storyTitle__2KVxB\",\"pageArea\":\"storybook_pageArea__-CvQd\",\"page\":\"storybook_page__1BQiV\",\"canvas\":\"storybook_canvas__DLQa6\",\"buttonArea\":\"storybook_buttonArea__1UoCH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvas\":\"canvas_canvas__1NvqR\",\"drawingArea\":\"canvas_drawingArea__2ePnn\",\"pageNumber\":\"canvas_pageNumber__2-V9Y\",\"title\":\"canvas_title__C4dr1\",\"storyArea\":\"canvas_storyArea__37dT7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Toolbox\":\"toolbox_Toolbox__2YJJF\",\"colorful\":\"toolbox_colorful__3cxTy\",\"bottom\":\"toolbox_bottom__3ccIv\",\"side\":\"toolbox_side__1TK3e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"modal_Modal__12FWS\",\"ModalOpen\":\"modal_ModalOpen__skEoq\",\"ModalClosed\":\"modal_ModalClosed__2asIj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__1O76R\",\"FlowchartButton\":\"button_FlowchartButton__8M2zR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Flowchartarea\":\"flowchart_Flowchartarea__Ln6sf\",\"Flowchart\":\"flowchart_Flowchart__3xsyz\",\"box\":\"flowchart_box__2tbyc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Cursor\":\"cursor_Cursor__32MIa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"backdrop_backdrop__8GLTU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navbar\":\"navbar_Navbar__2L923\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Title\":\"title_Title__3JYWz\"};","import classes from './button.module.css';\r\n\r\nexport const Button = (props) => {\r\n    return (\r\n        <button className={classes.Button} onClick={props.onClick}>{props.text}</button>\r\n    )\r\n}\r\n\r\nexport const FlowchartButton = (props) => {\r\n    return (\r\n        <button className={classes.FlowchartButton} onClick={props.onClick}>{props.children}</button>\r\n    ) \r\n}\r\n\r\nexport default Button;","import classes from './toolbox.module.css';\r\nimport './brush.css';\r\nimport Button from '../../UI/Button/Button';\r\nimport { HexColorPicker } from 'react-colorful';\r\nimport { StoryContext } from '../../../App';\r\nimport { useContext } from 'react';\r\n\r\nconst Toolbox = (props) => {\r\n\r\n    const { onUndo, onRedo, onFill, onPrevPage, onNewPage, onNextPage, brushSize, onBrushSizeChange, color, setColor, onPreview, pageNum } = props;\r\n\r\n    const storyContext = useContext(StoryContext);\r\n    const { pages } = storyContext.storyState;\r\n\r\n    let brushControls;\r\n\r\n    if (onBrushSizeChange) {\r\n        brushControls = (\r\n            <>\r\n                <fieldset>\r\n                <label htmlFor=\"size\">Brush Size</label>\r\n                <input type=\"range\" id=\"size\" value={brushSize} min=\"1\" max=\"60\" onChange={(e) => onBrushSizeChange(e)}></input>\r\n                </fieldset>\r\n\r\n                <HexColorPicker className={classes.colorful} color={color} onChange={setColor} />\r\n            </>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={`${classes.Toolbox} ${props.placement === 'side' ? classes.side : classes.bottom}`}>\r\n                {onUndo && <Button onClick={onUndo} text=\"Undo\" />}\r\n                {onFill && <Button onClick={onFill} text=\"Fill\" />}\r\n                {onRedo && <Button onClick={onRedo} text=\"Redo\" />}\r\n                {brushControls}\r\n\r\n            {pageNum > 0 && <Button onClick={onPrevPage} text=\"Previous Page\" />}\r\n            {pages.length < 20 && onNewPage && <Button onClick={onNewPage} text=\"Add a Page\" />}\r\n            {pages.length > 1 && pageNum < pages.length-1 && <Button onClick={onNextPage} text=\"Next Page\" />}\r\n            {onPreview && <Button onClick={onPreview} text=\"Preview Story\" />}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Toolbox;","\r\nimport classes from './cursor.module.css';\r\n\r\nconst Cursor = (props) => {\r\n\r\n    return (\r\n        <div style={props.cursorStyle} className={classes.Cursor}>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cursor","import { useContext, useEffect, useRef, useState } from 'react';\r\nimport { StoryContext } from '../../App';\r\nimport classes from './canvas.module.css'\r\nimport Toolbox from './Toolbox/Toolbox';\r\nimport Cursor from '../UI/Cursor/Cursor';\r\n\r\nconst Canvas = (props) => {\r\n\r\n    const canvasRef = useRef(null);\r\n    const textRef = useRef(null);\r\n    const [painting, setPainting] = useState(false);\r\n    const storyContext = useContext(StoryContext);\r\n    const { pages } = storyContext.storyState;\r\n    const { pageNum } = props;\r\n    const maxPages = 20;\r\n    const [brushSize, setBrushSize] = useState(20);\r\n    const [color, setColor] = useState('#000');\r\n    const [cursorStyle, setCursorStyle] = useState({});\r\n\r\n    const updateCursor = (e) => {\r\n        setCursorStyle({\r\n            top: e.pageY - (brushSize / 2),\r\n            left: e.pageX - (brushSize / 2),\r\n            height: `${brushSize}px`,\r\n            width: `${brushSize}px`,\r\n            border: `1px solid ${color}`\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        const storyText = textRef.current;\r\n        const ctx = canvas.getContext('2d');\r\n\r\n        if (pages[pageNum].edits.length === 0) {\r\n            ctx.fillStyle = 'white';\r\n            ctx.fillRect(0, 0, 400, 400);\r\n            storyContext.dispatchStory({ type: 'ADD_PAINTING', payload: { pageNum, edit: canvas.toDataURL() } })\r\n        }\r\n\r\n        const image = new Image();\r\n        image.src = pages[pageNum].edits[pages[pageNum].editIndex - 1];\r\n        image.onload = () => ctx.drawImage(image, 0, 0);\r\n\r\n        if (pages[pageNum].text === undefined || null) {\r\n            storyText.value = '';\r\n        }\r\n        storyText.value = pages[pageNum].text;\r\n\r\n    }, [pages, pageNum, storyContext])\r\n\r\n    const startPosition = () => {\r\n        setPainting(true)\r\n    }\r\n\r\n    const endPosition = () => {\r\n\r\n        if (painting) {\r\n            const canvas = canvasRef.current;\r\n            const ctx = canvas.getContext('2d');\r\n            ctx.beginPath();\r\n            storyContext.dispatchStory({ type: 'ADD_PAINTING', payload: { pageNum, edit: canvas.toDataURL() } })\r\n        }\r\n        setPainting(false);\r\n        setCursorStyle({\r\n            display: 'none'\r\n        })\r\n    }\r\n\r\n    const draw = (canvas, location) => {\r\n        const ctx = canvas.getContext('2d');\r\n        const { x, y } = location;\r\n\r\n        if (!painting) return;\r\n\r\n        let offsetLeft = canvas.offsetLeft - window.scrollX;\r\n        let offsetTop = canvas.offsetTop - window.scrollY;\r\n        ctx.lineWidth = brushSize;\r\n        ctx.lineCap = \"round\";\r\n        ctx.strokeStyle = color;\r\n        ctx.lineTo(x - offsetLeft, y - offsetTop);\r\n        ctx.stroke();\r\n        ctx.beginPath();\r\n        ctx.moveTo(x - offsetLeft, y - offsetTop);\r\n    }\r\n\r\n    const undo = () => {\r\n        if (pages[pageNum].editIndex > 1) {\r\n            storyContext.dispatchStory({ type: 'UNDO_PAINTING', payload: { pageNum } });\r\n        }\r\n    }\r\n\r\n    const redo = () => {\r\n        if (pages[pageNum].editIndex < storyContext.storyState.pages[pageNum].edits.length) {\r\n            storyContext.dispatchStory({ type: 'REDO_PAINTING', payload: { pageNum } });\r\n        }\r\n    }\r\n\r\n    const fill = () => {\r\n        const canvas = canvasRef.current;\r\n        const ctx = canvas.getContext('2d');\r\n        ctx.fillStyle = color;\r\n        ctx.fillRect(0, 0, 400, 400);\r\n        storyContext.dispatchStory({ type: 'ADD_PAINTING', payload: { pageNum, edit: canvas.toDataURL() } })\r\n    }\r\n\r\n    const newPage = () => {\r\n        if (pages.length < maxPages) {\r\n            storyContext.dispatchStory({ type: 'ADD_PAGE', payload: { pageNum } })\r\n            props.onPageChange(pages.length)\r\n        }\r\n    }\r\n\r\n    const nextPage = () => {\r\n        if (pageNum < pages.length - 1) {\r\n            props.onPageChange((prevPageNum) => prevPageNum + 1)\r\n        }\r\n    }\r\n\r\n    const prevPage = () => {\r\n            if (pageNum > 0) {\r\n                props.onPageChange((prevPageNum) => prevPageNum - 1)\r\n            }\r\n            \r\n    }\r\n\r\n    const changeBrushSize = (e) => {\r\n        setBrushSize(e.target.value);\r\n    }\r\n\r\n    const onUpdateStoryText = (e) => {\r\n        const text = e.target.value;\r\n        storyContext.dispatchStory({ type: 'UPDATE_TEXT', payload: { pageNum, text } })\r\n    }\r\n\r\n    const sideToolbox = (\r\n        <Toolbox\r\n            onUndo={undo}\r\n            onRedo={redo}\r\n            onFill={fill}\r\n            onBrushSizeChange={changeBrushSize}\r\n            brushSize={brushSize}\r\n            colorPicker={brushSize}\r\n            placement=\"side\"\r\n            color={color}\r\n            setColor={setColor}\r\n        />\r\n    )\r\n\r\n    const topToolbox = (\r\n        <Toolbox\r\n            onPrevPage={prevPage}\r\n            onNewPage={newPage}\r\n            onNextPage={nextPage}\r\n            placement=\"bottom\"\r\n            pageNum={pageNum}\r\n        />\r\n    )\r\n\r\n    return (\r\n        <div>\r\n            <Cursor\r\n                cursorStyle={cursorStyle}\r\n            />\r\n            <div className={classes.drawingArea}>\r\n                <div className={classes.drawingButtons}>\r\n                    {sideToolbox}\r\n                </div>\r\n                <div className={classes.storyArea}>\r\n                    <canvas className={classes.canvas}\r\n                        width=\"400px\" height=\"400px\"\r\n                        ref={canvasRef}\r\n                        id=\"drawing-canvas\"\r\n                        onMouseEnter={e => updateCursor(e)}\r\n                        onMouseDown={startPosition}\r\n                        onMouseMove={e => {\r\n                            const canvas = canvasRef.current;\r\n                            updateCursor(e)\r\n                            draw(canvas, { x: e.clientX, y: e.clientY })\r\n                        }}\r\n                        onMouseUp={endPosition}\r\n                        onMouseLeave={endPosition}\r\n                    />\r\n                    <p className={classes.pageNumber}>Page {pageNum + 1} of {storyContext.storyState.pages.length}</p>\r\n                    <div className={classes.pageButtons}>\r\n                        {topToolbox}\r\n                    </div>\r\n                    <textarea\r\n                        ref={textRef}\r\n                        type=\"textarea\"\r\n                        col=\"30\"\r\n                        row=\"12\"\r\n                        maxLength=\"200\"\r\n                        placeholder=\"Page writing\"\r\n                        onChange={onUpdateStoryText}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Canvas;","import classes from './backdrop.module.css';\r\n\r\nconst Backdrop = (props) => {\r\n\r\n\r\n\r\n    return (\r\n        <div className={classes.backdrop}>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Backdrop;","\r\nimport classes from './modal.module.css';\r\n\r\nconst Modal = (props) => {\r\n\r\n    let className;\r\n\r\n    if (props.show) {\r\n        className = classes.modalOpen\r\n    } else {\r\n        className = classes.modalClosed\r\n    }\r\n\r\n    return (\r\n        <div className={[classes.Modal, className].join(' ')}>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Modal;","import { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { StoryContext } from '../../App';\r\nimport Backdrop from \"../UI/Backdrop/Backdrop\";\r\nimport Modal from \"../UI/Modal/Modal\";\r\nimport Button from '../UI/Button/Button';\r\n\r\nimport classes from './storybook.module.css';\r\n\r\nconst Storybook = (props) => {\r\n\r\n    const storyContext = useContext(StoryContext);\r\n    const { storyState } = storyContext;\r\n    const firstCanvasRef = useRef(null);\r\n    const secondCanvasRef = useRef(null);\r\n\r\n    const [index, setIndex] = useState(0);\r\n    const [firstPage, setFirstPage] = useState({});\r\n    const [secondPage, setSecondPage] = useState({});\r\n    const [hideSecondPage, setHideSecondPage] = useState(false);\r\n\r\n    const pagesToShow = () => {\r\n        return window.innerWidth > 900 ? 2 : 1\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        const firstPageCanvas = firstCanvasRef.current;\r\n        const firstPageCtx = firstPageCanvas.getContext('2d');\r\n        const firstimageSrc = storyState.pages[index].edits[storyState.pages[index].edits.length - 1];\r\n\r\n        setFirstPage({\r\n            imageSrc: firstimageSrc,\r\n            text: storyState.pages[index].text\r\n        })\r\n\r\n        const firstImage = new Image();\r\n        firstImage.src = firstimageSrc\r\n        firstImage.onload = () => firstPageCtx.drawImage(firstImage, 0, 0);\r\n\r\n        if (pagesToShow() === 2) {\r\n            try {\r\n                const secondPageCanvas = secondCanvasRef.current;\r\n                const secondPageCtx = secondPageCanvas.getContext('2d');\r\n                const secondimageSrc = storyState.pages[index + 1].edits[storyState.pages[index + 1].edits.length - 1];\r\n\r\n                setSecondPage({\r\n                    imageSrc: secondimageSrc,\r\n                    text: storyState.pages[index + 1].text\r\n                })\r\n\r\n                const secondImage = new Image();\r\n                secondImage.src = secondimageSrc\r\n                secondImage.onload = () => secondPageCtx.drawImage(secondImage, 0, 0);\r\n                setHideSecondPage(false);\r\n            } catch (err) {\r\n                setHideSecondPage(true);\r\n            }\r\n        }\r\n    }, [index, storyState.pages, hideSecondPage])\r\n\r\n\r\n    let firstPageDisplay;\r\n    let secondPageDisplay;\r\n\r\n    firstPageDisplay = (\r\n        <div className={classes.page}>\r\n            <canvas width=\"400px\" height=\"400px\" ref={firstCanvasRef} className={classes.canvas} />\r\n            <p>{firstPage.text || 'Please enter some text for this page'}</p>\r\n\r\n        </div>\r\n    )\r\n\r\n    if (window.innerWidth > 900) {\r\n        secondPageDisplay = (\r\n            <div className={classes.page}>\r\n                <canvas width=\"400px\" height=\"400px\" ref={secondCanvasRef} className={classes.canvas} />\r\n                <p>{secondPage.text || 'Please enter some text for this page'}</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const prevPage = () => {\r\n        if ((index >= 2) || (index>=1 && pagesToShow() === 1)) {\r\n            setIndex(index - pagesToShow())\r\n            setHideSecondPage(false)\r\n        }\r\n    }\r\n\r\n    const nextPage = () => {\r\n        if (index < storyState.pages.length - pagesToShow()) {\r\n            setIndex(index + pagesToShow())\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Backdrop>\r\n            <Modal show={true}>\r\n                <div className={classes.bookSection}>\r\n                    <h1 className={classes.storyTitle}>{storyState.title || 'Please enter a title for your story'}</h1>\r\n                    <div className={classes.pageArea}>\r\n                        {firstPageDisplay}\r\n                        {!hideSecondPage && secondPageDisplay}\r\n                    </div>\r\n                    <div className={classes.buttonArea}>\r\n                        {<Button text=\"Previous Page\" onClick={prevPage}></Button>}\r\n                        <Button text=\"Close\" onClick={props.onClose} />\r\n                        {<Button text=\"Next Page\" onClick={nextPage}></Button>}\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        </Backdrop>\r\n    )\r\n}\r\n\r\nexport default Storybook;","import classes from './flowchart.module.css'\r\nimport { useContext, useState } from 'react';\r\nimport { StoryContext } from '../../App';\r\nimport Toolbox from '../Canvas/Toolbox/Toolbox';\r\nimport Storybook from '../Storybook/Storybook';\r\nimport Button, { FlowchartButton } from '../UI/Button/Button';\r\n\r\nconst Flowchart = (props) => {\r\n\r\n    const storyContext = useContext(StoryContext);\r\n    const { pages } = storyContext.storyState;\r\n    const [storyDisplay, setStoryDisplay] = useState(null);\r\n\r\n    const pageDivs = pages.map((process, index) => {\r\n        const text = `Page ${index + 1}`\r\n        return (\r\n            <FlowchartButton\r\n                key={index}\r\n                onClick={() => props.onPageChange(index)}>\r\n                <span>{text}</span>\r\n            </FlowchartButton>\r\n        )\r\n    })\r\n\r\n    const closeStoryHandler = () => {\r\n        setStoryDisplay(null);\r\n    }\r\n\r\n    const previewStory = () => {\r\n        setStoryDisplay(<Storybook onClose={closeStoryHandler}/>)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.Flowchartarea}>\r\n            <div className={classes.Flowchart}>\r\n                {pageDivs}\r\n            </div>\r\n            {storyDisplay}\r\n            <Toolbox \r\n                onPreview={previewStory}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Flowchart","import classes from './navbar.module.css'\r\n\r\nconst Navbar = () => {\r\n\r\n    return (\r\n    <nav className={classes.Navbar}>\r\n        <ul>\r\n            <li>Home</li>\r\n            <li>Browse</li>\r\n            <li>Sign in</li>\r\n        </ul>\r\n    </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","const storyReducer = (state, action) => {\r\n\r\n    const { pages } = state;\r\n    const { edit, pageNum } = action.payload;\r\n\r\n    switch (action.type) {\r\n        case 'UNDO_PAINTING':\r\n            {\r\n                const oldPages = [...state.pages]\r\n                oldPages[pageNum].editIndex--;\r\n                return { ...state, pages: oldPages }\r\n            }\r\n        case 'REDO_PAINTING':\r\n            {\r\n                const oldPages = [...state.pages]\r\n                oldPages[pageNum].editIndex++;\r\n                return { ...state, pages: oldPages }\r\n            }\r\n        case 'ADD_PAINTING':\r\n            {\r\n                const oldPages = [...state.pages]\r\n                oldPages[pageNum].edits.splice(oldPages[pageNum].editIndex)\r\n                pages[pageNum].edits.push(edit);\r\n                pages[pageNum].editIndex++;\r\n                return { ...state, pages: oldPages }\r\n            }\r\n        case 'ADD_PAGE':\r\n            {\r\n                const oldPages = [...state.pages]\r\n                oldPages.push({ text: '', editIndex: 0, edits: [] })\r\n                return { ...state, pages: oldPages };\r\n            }\r\n        case 'UPDATE_TEXT':\r\n            {\r\n                const oldPages = [...state.pages]\r\n                oldPages[pageNum].text = action.payload.text\r\n                return { ...state, pages: oldPages }\r\n            }\r\n        case 'UPDATE_TITLE':\r\n            {\r\n                const newTitle = action.payload.title;\r\n                return { ...state, title: newTitle}\r\n            }\r\n        default:\r\n            alert('No action for this type')\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default storyReducer;","\r\nimport { useContext, useState } from \"react\";\r\nimport { StoryContext } from \"../../../App\";\r\nimport classes from './title.module.css'\r\n\r\nconst Title = () => {\r\n\r\n    const maxLength = 80;\r\n    const [title, setTitle] = useState('');\r\n    const storyContext = useContext(StoryContext);\r\n\r\n    const onChangeHandler = (e) => {\r\n        setTitle(e.target.value)\r\n        storyContext.dispatchStory({type: 'UPDATE_TITLE', payload: {title}})\r\n    }\r\n\r\n    return (\r\n        <input \r\n            placeholder=\"Story title\"\r\n            value={title} \r\n            onChange={onChangeHandler} \r\n            maxLength={maxLength} \r\n            className={classes.Title}\r\n\r\n            />\r\n    )\r\n\r\n}\r\n\r\nexport default Title","import { createContext, useReducer, useState } from 'react';\nimport Canvas from './components/Canvas/Canvas';\nimport Flowchart from './components/Flowchart/Flowchart';\nimport Navbar from './components/UI/Navbar/Navbar';\n\nimport storyReducer from './store/story';\n\nimport './App.css';\nimport Title from './components/Canvas/Title/Title';\n\nexport const StoryContext = createContext();\n\nfunction App() {\n\n  const initialStoryState = {\n    title: '',\n    pages: [\n      {\n        text: '',\n        editIndex: 0,\n        edits: []\n      }\n    ]\n  };\n\n  const [pageNum, setPageNum] = useState(0);\n\n  const changePageHandler = (pageNum) => {\n    setPageNum(pageNum)\n  }\n\n  const [storyState, dispatchStory] = useReducer(storyReducer, initialStoryState)\n\n\n  return (\n    <>\n      <Navbar />\n      <StoryContext.Provider\n        value={{\n          storyState,\n          dispatchStory\n        }}>\n        <Title/>\n        <div className=\"App\">\n          <Canvas pageNum={pageNum} onPageChange={changePageHandler} />\n          <Flowchart pageNum={pageNum} onPageChange={changePageHandler} />\n        </div>\n      </StoryContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}